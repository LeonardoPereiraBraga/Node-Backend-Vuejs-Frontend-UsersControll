{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport axios from 'axios';\nexport default {\n  methods: {\n    processRole: function (value) {\n      if (value == 0) {\n        return \"Usuário comum\";\n      } else if (value == 1) {\n        return \"Admin\";\n      }\n    },\n    hideModal() {\n      this.showModal = false;\n    },\n    openModal(id) {\n      this.deleteUserId = id;\n      this.showModal = true;\n    },\n    deleteUser() {\n      const req = {\n        //Precisa do token para essa requisicao da nossa API\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n      };\n      axios.delete(\"http://localhost:8686/user/\" + this.deleteUserId, req).then(res => {\n        console.log(res);\n        this.showModal = false;\n        this.users = this.users.filter(user => user.id != this.deleteUserId);\n      }).catch(error => {\n        console.log(error);\n        this.showModal = false;\n      });\n    }\n  },\n  data() {\n    return {\n      users: [],\n      showModal: false,\n      deleteUserId: -1\n    };\n  },\n  created() {\n    const req = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem('token')\n      }\n    };\n    axios.get(\"http://localhost:8686/user\", req).then(res => {\n      this.users = res.data;\n    });\n  }\n};","map":{"version":3,"names":["axios","methods","processRole","value","hideModal","showModal","openModal","id","deleteUserId","deleteUser","req","headers","Authorization","localStorage","getItem","delete","then","res","console","log","users","filter","user","catch","error","data","created","get"],"sources":["C:\\Users\\braga\\OneDrive\\Documentos\\Vue Front + Node Back\\usersvuejs\\src\\views\\UsersView.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1> Painel ADM </h1>\r\n\r\n        <table class=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>Nome</th>\r\n                    <th>E-Mail</th>\r\n                    <th>Cargo</th>\r\n                    <th> Açoes </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"user in users\" :key=\"user.id\">\r\n                    <td>{{ user.name }}</td>\r\n                    <td>{{ user.email }}</td>\r\n                    <td>{{ processRole(user.role) }}</td>\r\n                    <td>\r\n                        <router-link :to=\"{ name: 'UserEdit', params: { id: user.id } }\"><button\r\n                                class=\"button is-link is-inverted\">\r\n                                Editar</button>\r\n                        </router-link>\r\n                        <button class=\"button is-link is-inverted\" @click=\"openModal(user.id)\"> Deletar </button>\r\n                    </td>\r\n                </tr>\r\n\r\n            </tbody>\r\n        </table>\r\n        <!-- <div class=\"modal is-active\" classe original do bulma  -->\r\n        <div :class=\"{ modal: true, 'is-active': showModal }\">\r\n            <div class=\"modal-background\"></div>\r\n            <div class=\"modal-content\">\r\n                <div class=\"card\">\r\n                    <header class=\"card-header\">\r\n                        <p class=\"card-header-title\">Voce realmente quer deletar esse usuario?</p>\r\n                        <button class=\"card-header-icon\" aria-label=\"more options\">\r\n                            <span class=\"icon\">\r\n                                <i class=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\r\n                            </span>\r\n                        </button>\r\n                    </header>\r\n                    <div class=\"card-content\">\r\n                        <div class=\"content\">\r\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec\r\n                            iaculis mauris.\r\n                            <a href=\"#\">@bulmaio</a>. <a href=\"#\">#css</a> <a href=\"#\">#responsive</a>\r\n                            <br />\r\n                            <time datetime=\"2016-1-1\">11:09 PM - 1 Jan 2016</time>\r\n                        </div>\r\n                    </div>\r\n                    <footer class=\"card-footer\">\r\n                        <a href=\"#\" class=\"card-footer-item\" @click=\"hideModal()\">Cancelar</a>\r\n                        <a href=\"#\" class=\"card-footer-item\" @click=\"deleteUser()\">Quero deletar</a>\r\n                    </footer>\r\n                </div>\r\n\r\n            </div>\r\n            <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"hideModal()\"></button>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    methods: {\r\n        processRole: function (value) {\r\n            if (value == 0) {\r\n                return \"Usuário comum\"\r\n            } else if (value == 1) {\r\n                return \"Admin\"\r\n            }\r\n        },\r\n        hideModal() {\r\n            this.showModal = false\r\n        },\r\n        openModal(id) {\r\n            this.deleteUserId = id\r\n            this.showModal = true\r\n        },\r\n        deleteUser() {\r\n            const req = { //Precisa do token para essa requisicao da nossa API\r\n                headers: {\r\n                    Authorization: \"Bearer \" + localStorage.getItem('token')\r\n                }\r\n            }\r\n            axios.delete(\"http://localhost:8686/user/\" + this.deleteUserId, req).then(res => {\r\n                console.log(res)\r\n                this.showModal = false\r\n                this.users = this.users.filter(user => user.id != this.deleteUserId)\r\n            }).catch(error => {\r\n                console.log(error)\r\n                this.showModal = false\r\n            })\r\n        }\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            users: [],\r\n            showModal: false,\r\n            deleteUserId: -1\r\n        }\r\n\r\n    },\r\n    created() {\r\n        const req = {\r\n            headers: {\r\n                Authorization: \"Bearer \" + localStorage.getItem('token')\r\n            }\r\n        }\r\n        axios.get(\"http://localhost:8686/user\", req).then(res => {\r\n            this.users = res.data\r\n        })\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style></style>"],"mappings":";;AAiEA,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,OAAO,EAAE;IACLC,WAAW,EAAE,SAAAA,CAAUC,KAAK,EAAE;MAC1B,IAAIA,KAAI,IAAK,CAAC,EAAE;QACZ,OAAO,eAAc;MACzB,OAAO,IAAIA,KAAI,IAAK,CAAC,EAAE;QACnB,OAAO,OAAM;MACjB;IACJ,CAAC;IACDC,SAASA,CAAA,EAAG;MACR,IAAI,CAACC,SAAQ,GAAI,KAAI;IACzB,CAAC;IACDC,SAASA,CAACC,EAAE,EAAE;MACV,IAAI,CAACC,YAAW,GAAID,EAAC;MACrB,IAAI,CAACF,SAAQ,GAAI,IAAG;IACxB,CAAC;IACDI,UAAUA,CAAA,EAAG;MACT,MAAMC,GAAE,GAAI;QAAE;QACVC,OAAO,EAAE;UACLC,aAAa,EAAE,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC3D;MACJ;MACAd,KAAK,CAACe,MAAM,CAAC,6BAA4B,GAAI,IAAI,CAACP,YAAY,EAAEE,GAAG,CAAC,CAACM,IAAI,CAACC,GAAE,IAAK;QAC7EC,OAAO,CAACC,GAAG,CAACF,GAAG;QACf,IAAI,CAACZ,SAAQ,GAAI,KAAI;QACrB,IAAI,CAACe,KAAI,GAAI,IAAI,CAACA,KAAK,CAACC,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACf,EAAC,IAAK,IAAI,CAACC,YAAY;MACvE,CAAC,CAAC,CAACe,KAAK,CAACC,KAAI,IAAK;QACdN,OAAO,CAACC,GAAG,CAACK,KAAK;QACjB,IAAI,CAACnB,SAAQ,GAAI,KAAI;MACzB,CAAC;IACL;EAEJ,CAAC;EACDoB,IAAIA,CAAA,EAAG;IACH,OAAO;MACHL,KAAK,EAAE,EAAE;MACTf,SAAS,EAAE,KAAK;MAChBG,YAAY,EAAE,CAAC;IACnB;EAEJ,CAAC;EACDkB,OAAOA,CAAA,EAAG;IACN,MAAMhB,GAAE,GAAI;MACRC,OAAO,EAAE;QACLC,aAAa,EAAE,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;MAC3D;IACJ;IACAd,KAAK,CAAC2B,GAAG,CAAC,4BAA4B,EAAEjB,GAAG,CAAC,CAACM,IAAI,CAACC,GAAE,IAAK;MACrD,IAAI,CAACG,KAAI,GAAIH,GAAG,CAACQ,IAAG;IACxB,CAAC;EACL;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}